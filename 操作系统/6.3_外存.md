---
aliases:
tags:
  - 操作系统
date created: 2023-10-15 日 08:07:00
date modified: 2023-11-08 三 04:37:18
---

# Link

---

Previous: [6.2\_设备](6.2_设备.md)

Next:

# 外存

---

## 磁盘管理

### 磁盘初始化

初始化的过程即对磁盘进行分扇区，也称低级格式化、物理格式化。

### 分区

操作系统先将磁盘进行分区，然后创建文件系统（逻辑格式化）。

### 引导块

在 ROM 中保存一个很小的引导程序，用于引入系统引导程序，具有完整功能的引导程序存放于磁盘的启动块，由 ROM 中的引导程序引入系统引导程序。

### 坏块

## RAID

- RAID 方案概述

| RAIDx    | 方案                                               | 优点                                    | 缺点                           |
| -------- | -------------------------------------------------- | --------------------------------------- | ------------------------------ |
| RAID 0   | 数据条带式均匀分布                                 | 读写效率高                              | 无冗余，数据安全性低           |
| RAID 1   | 镜像数据                                           | 100%数据冗余                            | 空间利用率只有 50%             |
| RAID 3/4 | 数据按位/条带均匀分布，校验信息存放在校验磁盘中    | 读写性能好，磁盘利用率= $\frac{N-1}{N}$ | 设计复杂，校验磁盘写性能有瓶颈 |
| RAID 5   | 数据条带化均匀分布，校验信息均与分布在各磁盘 | 读性能好，校验信息分布式存取避免写瓶颈  | 设计复杂，磁盘重建过程比较复杂 |
| RAID 10  | 先镜像化，再条带化                                 | 读性能高，数据安全性好                  | 空间利用率只有 50%             |

- RAID 提高安全性/可靠性的技术
  - 镜像
    - 它将一组磁盘分为两组，每一组中包含相同的数据。当写入数据时，数据会同时写入两组磁盘中，实现数据的冗余备份。
    - 优点：
      - 并行读取数据，提高读速度
      - 可以用冗余备份恢复损坏的数据
    - 缺点：
      - 降低了写速度
      - 空间利用率只有 50%
  - 校验
    - 与条带化一起使用。将数据条带化，每块数据对应一个校验块。
    - 优点：
      - 使用校验块提高空间利用率
      - 可以通过校验块恢复损坏的数据
    - 缺点：
      - 写入时要计算校验块，写速度下降
      - 每次写入都需要读取原始数据块、读取校验块、计算新的校验块和写入数据块和校验块
      - 不适用于大容量磁盘
- RAID 提高读写速度的技术
  - 数据条带化
    - 将数据分成固定大小的块，然后依次存储到不同的磁盘上。每个数据块称为一个条带（Stripe）
    - 优点：
      - 数据条带化允许多个磁盘并行读取数据，从而提高了读取性能。
    - 缺点：
      - 写入操作有额外开销

## 磁盘调度

| 名称           | 方法                                                     | 优点                 | 缺点                                   |
| -------------- | -------------------------------------------------------- | -------------------- | -------------------------------------- |
| FCFS           | 根据进程请求顺序                                         | 公平、简单           | 平均寻道距离大                         |
| SSTF           | 按寻道时间排优先级，寻道时间越小优先级越高               | 性能较好             | 不能保证平均寻道时间最短、导致饥饿现象 |
| SCAN           | 选择当前磁头移动方向上最近的请求，到达一端时改变移动方向 | 性能较好，避免饥饿   | 不利于远离磁头一端的访问请求           |
| C-SCAN         | 与 SCAN 一样，但是到达一端时直接跳到另一端               | 避免了两端请求不公平 |                                        |
| LOOK 与 C-LOOK | 到达最远端的请求时即返回/跳转                            |                      |                                        |

## 磁盘读取时间

$$
\begin{aligned}
& 总时间=寻道时间+旋转延迟+数据传输延时+其他延时 \\
& 寻道时间: 根据调度算法计算、寻道时间 \\
& 旋转延时: \frac{磁头旋转一圈的时间}{扇区数量} \\
& 平均旋转延时: \frac{旋转延时}{2} \\
& 数据传输延时: \\
& 读取一个扇区 = \frac{旋转延时}{扇区数量} \\
& 给出传输速率: \frac{数据总量}{传输速率} \\
& 其他延时: 磁头响应时间\cdot\cdot\cdot
\end{aligned}
$$

## 固态硬盘

### SSD 的特点

### 磨损均衡

- 动态磨损均衡
- 静态磨损均衡

# Relative

---

[0\_操作系统思维导图](0_操作系统思维导图.md)

# Reference

---
