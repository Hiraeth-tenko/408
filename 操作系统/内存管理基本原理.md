---
aliases:
tags:
  - 操作系统
date created: 2023-09-27 三 02:54:20
date modified: 2023-09-27 三 04:31:58
---

# Link

---

Previous:

Next: [虚拟内存](虚拟内存.md)

# 内存管理基本原理

---

## 程序的链接与装入

### 编译

### 链接

- 在链接阶段，各模块的地址转换为逻辑地址
- 静态链接
- 装入时动态链接
- 运行时动态链接

### 装入

- 绝对装入
- 可重定位装入
- 动态运行时装入

## 内存碎片

内部碎片：分区内部存在空余空间浪费。

外部碎片：在分区之间存在无法利用、无法用于分区的小内存块。

## 连续分配

### 固定分区分配

将内存空间划分为若干大小的分区：

- 分区大小相同：小程序浪费，大程序无法装入
- 分区大小不同：多个小分区，适量中分区，少量大分区。

装入分区的程序小于分区大小时，会产生内部碎片。

### 动态分区分配

当程序装入内存时，根据所需划分出分区分配给程序。

当某个分区被释放，变为空闲分区后，如果内存空间中仍有足量的空闲内存，对于新来的程序，优先将未划分过的内存划出分区分配给新程序使用。[2010 年 28 题]

#### 动态分区分配策略

408 操作系统主要考察使用链表的存储管理，使用位图的存储管理仅在题目给出背景的情况下考察过一次。[2014 年 27 题]

##### 首次适应 (First-Fit)

First Fit 沿着分区链表进行搜索，直到找到一个足够大的分区，随后把分区分为两个部分：一个部分划分给程序使用，另一个部分形成新的分区。First Fit 性能最好。

##### 邻近适应 (Next-Fit)

Next Fit 在 First Fit 上做了一定改动，每次搜索都从上一次结束搜索的位置开始继续搜索，而不是回到首部从头开始。

##### 最佳适应 (Best-Fit)

Best Fit 搜索整个链表来找到最接近实际需求的分区。由于需要搜索整个链表，使得 Best Fit 性能较差，且分配的空间接近实际需求空间，因此会产生很多难以利用的小分区。

##### 最坏适应 (Worst-Fit)

Worst Fit 同样搜索整个链表，但是分配最大的空间。目的是使得划分出的新分区足够大以用于可以继续利用。由于容易导致大分区减少以至于没有大分区装入较大的程序，Worst Fit 性能比较差。

#### 分区回收

当回收一个分区时，若有邻近的分区，则合并这些（1~2 个）分区。如果题目说每次回收后都会对空闲分区进行排序，则观察题目给出是分区是递增还是递减，将合并后的分区插入对应位置[2017 年 26 题]

# Relative

---

[操作系统思维导图](操作系统思维导图.md)

# Reference

---
