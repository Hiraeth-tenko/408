---
aliases:
tags:
  - 操作系统
date created: 2023-10-15 日 04:33:53
date modified: 2023-10-27 五 01:15:22
---

# Link

---

Previous: [6.1\_输入输出](6.1_输入输出.md)

Next: [6.3\_外存](6.3_外存.md)

# 设备

---

## 设备独立性系统

## 缓冲区

引入缓冲区有以下目的：

- 缓和 CPU 和 I/O 设备速度不匹配的矛盾
- 减少 CPU 中断频率
- 解决数据单元不匹配的问题
- 提高 CPU 和 I/O 设备的并行性

### 单缓冲

$$
\begin{align}
& T:磁盘把数据送入缓冲区时间 \\
& M:缓冲区把数据传送给CPU的时间 \\
& C:CPU处理数据的时间 \\
& 当~T>C~时: \\
& 用时 = M+T \\
& 当~T<C~时: \\
& 用时 = max(C,T) + M \\
\end{align}
$$

### 双缓冲

$$
\begin{align}
& T:磁盘把数据送入缓冲区时间 \\
& M:缓冲区把数据传送给CPU的时间 \\
& C:CPU处理数据的时间 \\
& 用时 = max(C+M,T) \\
\end{align}
$$

### 循环缓冲

### 缓冲队列

## SPOOLing

SPOOLing 的组成：

- SPOOLing 软件：作业向设备发出请求时，由系统调用 SPOOLing 控制下面的组成部分。
- 输入输出井：在磁盘上开辟两个区域分别模拟输入输出。
- 输入输出缓冲区：在内存开辟两个区域分别暂存来自输入输出井的数据。
- 输入输出进程：模拟输入输出进程。

## 设备驱动

### 用户使用设备的流程

- 用户通过【用户程序】发起系统调用
- 系统通过【系统调用响应程序】响应系统调用，即设备无关层
- 系统调用响应程序中会根据使用的设备调用对应的【设备驱动程序】
- 设备驱动程序在设备准备好后发出中断请求，系统通过【中断处理程序】响应

# Relative

---

[6.1\_输入输出](6.1_输入输出.md)

# Reference

---
