---
aliases:
tags:
  - 计算机网络
date created: 2023-09-19 二 03:45:09
date modified: 2023-09-19 二 03:46:45
---

# Link

---

Previous: [数据链路层](数据链路层.md)

Next: [数据链路层](数据链路层.md)

# 信道利用率

---

意义大概是一定时间内，用于传输数据帧的时间所占比例。

主要结合滑动窗口协议出题。

有时题目会写：【不考虑确认帧的开销】、【忽视确认帧的传播延时】，注意从 T 中剔除对应的数据。

$$
\begin{align*}
& L_1: 单数据帧大小 \\
& L_2: 全部要发送的数据大小 \\
& C: 发送速率 \\
& t_1: 单帧数据帧传输时间 = \frac{L_1}{C} \\
& t_2: 全部数据传输时间 = \frac{L_2}{C} \\
& t_{ack}: 单确认帧传输时间\\
& T: 总耗时，即传输时间加上各类时延 \\
& \frac{RTT}{2}: 单向传播延时 \\
\end{align*}
$$

## 题型 1：求最大信道利用率

求最大信道利用率。

### 停等协议

$$
\begin{align}
& T: t_1 + t_{ack} + 传播时延 + 其他时延 \\
& 信道利用率 = \frac{t_1}{T} \\
\end{align}
$$

对于停等协议来说，每次发送一帧就等待一次 ACK 确认帧。

### 滑动窗口、GBN

对于滑动窗口、GBN 协议，可以连续发送出 x 帧（需要考虑到滑动窗口）。最大信道利用率即：在发送第一帧到接收到第一帧的 ACK 确认帧的时间 $T$ 内，最多发出 n 帧，计算发出 x 帧的耗时 $t_2$ 与 $T$ 的比值。

$$
\begin{align}
& T: t_1 + t_{ack} + 总传播时延 + 其他时延 \\
& 信道利用率 = \frac{t_2}{T} \\
\end{align}
$$

## 题型 2：求滑动窗口的帧序号比特位至少为多少

### 方法一：计算总数据大小/单数据帧大小

在发送第一帧到接收到第一帧的 ACK 确认帧的时间 $T$ 内，根据题目给定的信道利用率求得**发出的数据大小 $L_2$**，计算出需要发出 x 帧数据，再根据协议计算比特位需要 n 帧。

$$
\begin{align}
& 信道利用率 = \frac{t_2}{T} \\
& 其中 T = t_1 + t_{ack} + 总传播时延 + 其他时延, t_2 = \frac{L_2}{C} \\
& 计算得到 L_2的值 \\
& 得到x = \frac{L_2}{L_1} \\
& 窗口大小 = 2^n-1，根据题意关系计算后得到比特位n
\end{align}
$$

### 方法二：计算总发送时间/单数据帧传输时间

根据信道利用率计算出**用于传输数据的时间 $t_2$**，后续同方法一。该方法减少了几步计算。

$$
\begin{align}
& 信道利用率 = \frac{t_2}{T} \\
& 得到x = \frac{t_2}{t_1} \\
\end{align}
$$

## 题型 3：求数据帧大小

方法一的公式代一代，变形得到一个关于 $L_1$ 的方程，解方程即可。

# Relative

---

[数据链路层](数据链路层.md)

# Reference

---
