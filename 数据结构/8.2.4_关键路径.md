---
aliases:
tags:
  - 数据结构
date created: 2023-10-23 一 09:31:22
date modified: 2023-12-03 日 07:09:47
---

# Link

---

Previous: [8.2.3\_最短路径](8.2.3_最短路径.md)

Next: [8.2.5\_拓扑排序](8.2.5_拓扑排序.md)

# 关键路径

---

## AOE 网

AOE 网（activity of edges），AOE 网中的边带有权值，是一种 DAG 图。

AOE 网具有如下 2 个性质：

- 仅有一个入度为 0 的顶点，是为起点；仅有一个出度为 0 的顶点，是为终点。
- 某顶点只有在所有进入该顶点的有向边所代表的活动都结束后，该顶点的事件才能开始。

具有从起点到终点最大路径长度的路径称为**关键路径**，经过的活动称为**关键活动**，关键路径的长度为完成整个工程的最短时间。

## 参量

- **事件 $v_k$ 最早发生时间 $ve$**：顶点 $v_k$ 所代表的事件最早可以开始的时间。
  输出一个入度为 0 的顶点 $v_j$ 时，计算它所有直接后继结点 $v_k$ 的最早发生时间 $ve[k]=\max{\{ve[j]+w (v_j, v_k)\}}$。
  当前事件 $v_j$ 开始的时间，加上以事件 $v_j$ 开始、事件 $v_k$ 结束的活动 $a_{(j,k)}$ 耗时，即为事件 $v_k$ 的最早开始时间 $ve[k]$。由于事件 $v_k$ 可能有多个前置事件需要完成，因此要取【最晚】事件结束时间。
- **事件 $v_j$ 最迟发生时间 $vl$**：在不推迟工程的情况下，顶点 $v_j$ 所代表的事件最晚可以开始的时间。
  $vl[j]=Min\{vl[k]-w(v_k,v_j)\}$，其中 $v_j$ 为 $v_k$ 的任意前驱。
  $vl[终点]=ve[终点]$
  $vl$ 从汇点逆推向前计算。同理，当前事件 $v_k$ 开始的时间，减去以事件 $v_j$ 开始、事件 $v_k$ 结束的活动 $a_{(j,k)}$ 耗时，即为事件 $v_j$ 的最晚开始时间 $vl[j]$。
  由于事件 $v_k$ 有多个前置事件需要完成，有的活动时间较长，有的活动时间较短，因此有的事件可以推后或休息一段时间再开始，故有事件 $v_j$ 的最迟发生时间。为了不影响 $v_j$ 后继事件中 $v_k$ 以外的事件，$v_j$ 最晚开始时间要取【最早】的时间。
- **活动 $a_i$ 最早开始时间 $e$**：边 $<v_j,v_k>$ 的起点 $v_j$ 所表示事件最早可以开始的时间。
  $e[j]=ve[j]$
- **活动 $a_i$ 最迟开始时间 $l$**：边 $<v_j,v_k>$ 的终点 $v_k$ 所表示事件的最迟发生时间 $vl$ 与该活动所需时间之差。
  $l[k]=vl[k]-w(v_j,v_k)$
- **活动 $a_i$ 最迟开始时间 l 与最早开始时间 e 的差额 d**：即活动完成的余量，若活动余量为 0，这是一个关键活动。活动 $a_i$ 以事件 $v_j$ 开始、以事件 $v_k$ 结束，则有 $l[i]=e[i]-d[i]=vl[k]-ve[j]$。

## 求关键活动

- 从起点出发，按拓扑有序求所有顶点的最早发生时间 $ve$
- 从终点出发，按逆拓扑有序求所有顶点的最迟发生时间 $vl$
- 求所有边的最早开始时间 $l$ 与最迟开始时间 $e$
- 计算差额 $d$，找出所有 $d＝0$ 的活动构成的关键路径

## 缩短关键活动来加快完成

- 对于多条关键路径，有时仅缩短一条关键路径上的关键活动并不能缩短整个工程时间。
- 缩短到一定程度，关键活动可能会转变为非关键活动。

# Relative

---

[0\_数据结构思维导图](0_数据结构思维导图.md)

# Reference

---
