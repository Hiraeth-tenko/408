---
aliases:
tags:
  - 计算机组成原理
date created: 2023-10-09 一 04:55:28
date modified: 2023-10-12 四 03:36:37
---

# Link

---

Previous: [3.2_Cache](3.2_Cache.md)

Next: [4.2_寻址方式](4.2_寻址方式.md)

# 指令系统

---

## 指令集体系结构（ISA）

ISA 主要内容包括：

- 指令格式
- 数据类型及格式
- 操作数的存放方式
- 程序可访问的寄存器个数、位数、编号
- 存储空间的大小和编址方式
- 寻址方式
- 指令执行过程的控制方式

## 指令格式

指令根据地址字段格式被分为零地址指令、一地址指令……等。

指令长度一般为字节的整数倍。

- 定长指令字结构
  所有指令长度相等，执行速度快，控制简单

- 变长指令字结构

## 设计扩展操作码

在定长指令字结构下，采用变长操作码可以丰富指令类型。

在设计扩展操作码时遵循以下原则：

- 各指令均为前缀码
- 各指令操作码不重复

### 计算指令数量

```ad-note
title: 例题

16 位定长指令字格式，操作码使用拓展编码方式，地址码 6 位，包含零地址、一地址、二地址。二地址有 12 条，一地址有 254 条，零地址最多多少条？

```

先列出各类指令：

<table>
 <tr>
  <td>二地址</td>
  <td>4位操作码</td>
  <td>6位地址码</td>
  <td>6位地址码</td>
 </tr>
 <tr>
  <td>一地址</td>
  <td align="center" colspan=2>10位操作码</td>
  <td>6位地址码</td>
 </tr>
 <tr>
  <td>零地址</td>
  <td align="center" colspan=3>16位操作码</td>
 </tr>
</table>

二地址指令有 12 条，故分配 0000~1011 共十二条操作码指令给二地址。

一地址指令有 254 条，且操作码长度比二地址指令操作码长度长 6 位，试分配 11 00 000000 ~ 11 11 111101 给一地址指令，得到$2^2\times 2^6 - 2 = 254$条。

则余下的 1111 1111 10 000000 ~1111 1111 11 111111 共$2\times 2^6=128$条指令即为零地址指令最多的条数。

### 根据指令数量计算指令字长

```ad-note
title: 例题

按字节编址，指令字长固定，三地址 29 条、二地址 107 条，地址字段 6 位，则指令字长至少为？

```

先列出各类指令：

<table>
 <tr>
  <td>三地址</td>
  <td>x 位操作码</td>
  <td>6 位地址码</td>
  <td>6 位地址码</td>
  <td>6 位操作码</td>
 </tr>
 <tr>
  <td>一地址</td>
   <td align="center" colspan=2>y 位操作码</td>
   <td>6位地址码</td>
   <td>6位地址码</td>
 </tr>
</table>

三地址指令有 29 条，则分配 0 0000~1 1100 为三地址指令操作码。

二地址指令有 107 条，三地址指令余下 1 1101 ~ 1 1111 三个前缀，二地址指令多出 6 位地址字段，则指令数量最大达到 192 条，满足二地址指令条数需求。则可得$x=5$，由于指令字长为字长整数倍，$5+6+6+6=23$取整到$24$位。

## 寻址方式

[4.2_寻址方式](4.2_寻址方式.md)

## 汇编级表示

## 指令集

|                  | CISC         | RISC             |
| ---------------- | ------------ | ---------------- |
| 指令系统         | 复杂         | 精简             |
| 指令数目         | 大于 200     | 小于 100         |
| 指令字长         | 不固定       | 固定             |
| 可访存指令       | 不限制       | 只有 Load/Store  |
| 各种指令执行时间 | 相差大       | 大部分一周期完成 |
| 各种指令使用频率 | 相差大       | 相近             |
| GPRs             | 少           | 多               |
| 目标代码         | 难以优化     | 优化编译         |
| 控制方式         | 微程序       | 组合逻辑         |
| 指令流水线       | 可以选择实现 | 必须实现         |

# Relative

---
[0_组成原理思维导图](0_组成原理思维导图.md)
# Reference

---
