---
aliases: []
tags:
  - 计算机组成原理
date created: 2023-09-09 六 01:04:41
date modified: 2023-10-23 一 12:31:49
---

# Link

---

Previous: [控制器](控制器.md)

Next: [指令流水线](指令流水线.md)

# 中断与异常

---

外部设备向 CPU 发出的中断请求称为中断，CPU 内部产生的意外事件称为异常。

在每一个指令周期的最后一个总线周期的最后一个时钟周期的开始采样中断请求输入线，若有中断请求，则下一步不进入取指令周期，而进入中断响应周期。

## 中断

常见的中断事件有：I/O 设备发出的 I/O 中断

### 可屏蔽中断

通过可屏蔽的中断申请线 INTR 向 CPU 发送中断申请，CPU 可以通过中断控制器设置屏蔽字来选择是否屏蔽。

### 不可屏蔽中断

通过不可屏蔽的中断申请线 NMI 向 CPU 发送中断申请。

## 异常

### 故障

非法操作码、缺段、缺页、除数为 0 等属于故障。

对于可以处理的故障（缺段、缺页），在处理后回到发送故障的指令继续执行；无法处理的故障（非法操作码、除数为 0）需要终止进程运行。

### 自陷

程序预先设置的异常事件，例如系统调用。

执行自陷指令后，继续自陷指令下一条继续执行；如果是转移指令则移动到转移目标指令执行。

### 终止

来自硬件的故障，例如存储器校验错、控制器错等。

## 响应过程

![中断响应过程](输入输出方式.md#中断驱动方式#响应中断过程)

### 关中断

关中断即关闭对中断的响应，在保存断点和程序状态时，不能被新的中断打断。

### 保存断点和程序状态

保持断点和程序状态以便于处理完中断后返回被中断的程序继续执行。

### 识别异常和中断并转移到响应的处理程序

# Relative

---

[中央处理器](中央处理器.md)

# Reference

---
